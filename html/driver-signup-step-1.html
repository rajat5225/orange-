<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <title>Rigo Ride</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <link rel="shortcut icon" href="images/favicon.png" type="image/x-icon" />

    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/owl.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" />

</head>

<body>
    <!--#include file="include/header.html"-->
    <div class="driverStep wrapper bg-pink">
        <div class="container">
            <div class="row">
                <h1 class="sec-title text-center">Driver Registration</h1>
                <div class="col-lg-12 col-md-12">
                    <div class="formContent bg-white ">
                        <ul class="d-flex justify-content-center" role="tablist">
                            <li class="">
                                <a class="active" id="link1" data-toggle="tab" href="#step1">
                                    <span class="">1</span>
                                </a>
                            </li>
                            <li class="">
                                <a class=""  id="link2" data-toggle="tab" href="#step2">
                                    <span>2</span>
                                </a>
                            </li>
                            <li class="">
                                <a class="" id="link3" data-toggle="tab" href="#step3">
                                    <span>3</span>
                                </a>
                            </li>
                        </ul>
                        <form>
                            <div class="tab-content">
                                <div id="step1" class="container tab-pane active">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="frmGrp">
                                                <div class="images" id="image_profile">
                                                    <div class="pic" id="pic_profile">
                                                        <img src="images/add-img.png" alt="">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="frmGrp">
                                                <input type="text" class="input" placeholder="First Name" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="frmGrp">
                                                <input type="text" class="input" placeholder="Last Name" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="frmGrp">
                                                <input type="email" class="input" placeholder="Email" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="frmGrp">
                                                <input type="password" class="input" placeholder="Password" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="frmGrp">
                                                <input type="password" class="input" placeholder="Confirm Password" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="frmGrp">
                                                <select class="input" required>
                                                    <option>-Select State-</option>
                                                    <option>Haryana</option>
                                                    <option>Rajasthan</option>
                                                    <option>Punjab</option>
                                                    <option>Gujrat</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="frmGrp">
                                                <select class="input" required>
                                                    <option>-Select City-</option>
                                                    <option>Mohindergarh</option>
                                                    <option>Narnaul</option>
                                                    <option>Rewari</option>
                                                    <option>Ambala</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="frmGrp text-center">
                                                <a id="continue_step1" href="javascript:;" class="btn-red txt-upr">continue</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="step2" class="container tab-pane ">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="frmGrp">
                                                <input type="text" class="input" placeholder="Vehicle Registration Number" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="frmGrp">
                                                <input type="text" class="input" placeholder="Vehicle Number Plate" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="frmGrp">
                                                <input type="text" class="input" placeholder="Vehicle Type" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="frmGrp">
                                                <input type="text" class="input" placeholder="Vehicle Manufacturer" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="frmGrp">
                                                <input type="text" class="input" placeholder="Vehicle Model" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="frmGrp text-center">
                                                <a id="continue_step2" href="javascript:;" class="btn-red txt-upr">continue</a>
                                                <!-- <a href="driver-signup-step-1.html" class="font16 normal clr-black">Back</a> -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="step3" class="container tab-pane">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="frmGrp docUpload">
                                                <div class="images" id="image_license">
                                                    <div class="pic" id="pic_license">
                                                        <img src="images/uploadicon.png" alt="">
                                                        <p class="font18 clr-black">Driving Licence</p>
                                                    </div>
                                                </div>
                                                <div class="images" id="image_voter">
                                                    <div class="pic" id="pic_voter">
                                                        <img src="images/uploadicon.png" alt="">
                                                        <p class="font18 clr-black">Votel ID Card</p>
                                                    </div>
                                                </div>
                                                <div class="images" id="image_aadhar">
                                                    <div class="pic" id="pic_aadhar">
                                                        <img src="images/uploadicon.png" alt="">
                                                        <p class="font18 clr-black">Aadhar Card</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="frmGrp text-center">
                                                <input type="submit" class="btn-red txt-upr" value="Register">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>


    <div class="wrapper fleet drvrPages bg-gray">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="rigoapp">
                        <div class="row">
                            <div class="col-lg-7 order-lg-1 col-md-12 order-md-2 col-sm-12 order-sm-2 col-12 order-2">
                                <div class="appContent">
                                    <div class="apptitle font40 extrabold">Book a RiGo RiDe from the App</div>
                                    <p class="clr-black font18">Download the app for exclusive deals and ease of booking </p>

                                    <a href="">
                                        <img src="images/gplay.png" alt="">
                                    </a>
                                    <a href="">
                                        <img src="images/macapp.png" alt="">
                                    </a>
                                </div>
                            </div>
                            <div class="col-lg-5 order-lg-2 col-md-12 order-md-1 col-sm-12 order-sm-1 col-12 order-1">
                                <div class="appimg">
                                    <img src="images/appimg.png" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--#include file="include/footer.html"-->

    <script>
        (function ($) {
            $(document).ready(function () {
                $("body").addClass("driver-login-Page")
                generateID()
                choose()
                generateOption()
                selectionOption()
                removeClass()
                uploadImage()
                submit()
                resetButton()
                removeNotification()
                autoRemoveNotification()
                autoDequeue()

                var ID
                var way = 0
                var queue = []
                var fullStock = 10
                var speedCloseNoti = 1000

                function generateID() {
                    var text = $('header span')
                    var newID = ''

                    for (var i = 0; i < 3; i++) {
                        newID += Math.floor(Math.random() * 3)
                    }

                    ID = 'ID: 5988' + newID
                    text.html(ID)
                }

                function choose() {
                    var li = $('.ways li')
                    var section = $('.sections section')
                    var index = 0
                    li.on('click', function () {
                        index = $(this).index()
                        $(this).addClass('active')
                        $(this).siblings().removeClass('active')

                        section.siblings().removeClass('active')
                        section.eq(index).addClass('active')
                        if (!way) {
                            way = 1
                        } else {
                            way = 0
                        }
                    })
                }

                function generateOption() {
                    var select = $('select option')
                    var selectAdd = $('.select-option .option')
                    $.each(select, function (i, val) {
                        $('.select-option .option').append('<div rel="' + $(val).val() + '">' + $(val).html() + '</div>')
                    })
                }

                function selectionOption() {
                    var select = $('.select-option .head')
                    var option = $('.select-option .option div')

                    select.on('click', function (event) {
                        event.stopPropagation()
                        $('.select-option').addClass('active')
                    })

                    option.on('click', function () {
                        var value = $(this).attr('rel')
                        $('.select-option').removeClass('active')
                        select.html(value)

                        $('select#category').val(value)
                    })
                }

                function removeClass() {
                    $('body').on('click', function () {
                        $('.select-option').removeClass('active')
                    })
                }

                function uploadImage() {
                    var button = $('.images .pic')
                    var id = '';
                    var uploader = $('<input type="file" accept="image/*" />')
                    var images = $('.images')

                    button.on('click', function () {
                        uploader.click();
                        id = $(this).attr('id').split('_')[1];
                    })

                    uploader.on('change', function () {
                        console.log(id);
                        var reader = new FileReader()
                        reader.onload = function (event) {
                            var parent = images.parent();
                            var idDiv = parent.find('#image_' + id);
                            console.log(idDiv);
                            idDiv.prepend('<div class="img" style="background-image: url(\'' + event.target.result + '\');" rel="' + event.target.result + '"><span>remove</span></div>')
                        }
                        reader.readAsDataURL(uploader[0].files[0])

                    })

                    images.on('click', '.img', function () {
                        $(this).remove()
                    })

                }

                function submit() {
                    var button = $('#send')

                    button.on('click', function () {
                        if (!way) {
                            var title = $('#title')
                            var cate = $('#category')
                            var images = $('.images .img')
                            var imageArr = []


                            for (var i = 0; i < images.length; i++) {
                                imageArr.push({ url: $(images[i]).attr('rel') })
                            }

                            var newStock = {
                                title: title.val(),
                                category: cate.val(),
                                images: imageArr,
                                type: 1
                            }

                            saveToQueue(newStock)
                        } else {
                            // discussion
                            var topic = $('#topic')
                            var message = $('#msg')

                            var newStock = {
                                title: topic.val(),
                                message: message.val(),
                                type: 2
                            }

                            saveToQueue(newStock)
                        }
                    })
                }

                function removeNotification() {
                    var close = $('.notification')
                    close.on('click', 'span', function () {
                        var parent = $(this).parent()
                        parent.fadeOut(300)
                        setTimeout(function () {
                            parent.remove()
                        }, 300)
                    })
                }

                function autoRemoveNotification() {
                    setInterval(function () {
                        var notification = $('.notification')
                        var notiPage = $(notification).children('.btn')
                        var noti = $(notiPage[0])

                        setTimeout(function () {
                            setTimeout(function () {
                                noti.remove()
                            }, speedCloseNoti)
                            noti.fadeOut(speedCloseNoti)
                        }, speedCloseNoti)
                    }, speedCloseNoti)
                }

                function autoDequeue() {
                    var notification = $('.notification')
                    var text

                    setInterval(function () {

                        if (queue.length > 0) {
                            if (queue[0].type == 2) {
                                text = ' Your discusstion is sent'
                            } else {
                                text = ' Your order is allowed.'
                            }

                            notification.append('<div class="success btn"><p><strong>Success:</strong>' + text + '</p><span><i class=\"fa fa-times\" aria-hidden=\"true\"></i></span></div>')
                            queue.splice(0, 1)

                        }
                    }, 10000)
                }

                function resetButton() {
                    var resetbtn = $('#reset')
                    resetbtn.on('click', function () {
                        reset()
                    })
                }

                // helpers
                function saveToQueue(stock) {
                    var notification = $('.notification')
                    var check = 0

                    if (queue.length <= fullStock) {
                        if (stock.type == 2) {
                            if (!stock.title || !stock.message) {
                                check = 1
                            }
                        } else {
                            if (!stock.title || !stock.category || stock.images == 0) {
                                check = 1
                            }
                        }

                        if (check) {
                            notification.append('<div class="error btn"><p><strong>Error:</strong> Please fill in the form.</p><span><i class=\"fa fa-times\" aria-hidden=\"true\"></i></span></div>')
                        } else {
                            notification.append('<div class="success btn"><p><strong>Success:</strong> ' + ID + ' is submitted.</p><span><i class=\"fa fa-times\" aria-hidden=\"true\"></i></span></div>')
                            queue.push(stock)
                            reset()
                        }
                    } else {
                        notification.append('<div class="error btn"><p><strong>Error:</strong> Please waiting a queue.</p><span><i class=\"fa fa-times\" aria-hidden=\"true\"></i></span></div>')
                    }
                }
                function reset() {

                    $('#title').val('')
                    $('.select-option .head').html('Category')
                    $('select#category').val('')

                    var images = $('.images .img')
                    for (var i = 0; i < images.length; i++) {
                        $(images)[i].remove()
                    }

                    var topic = $('#topic').val('')
                    var message = $('#msg').val('')
                }
            })
        })(jQuery)

    </script>
    <script>
        $("#continue_step1").click(function () {
            $("a#link1").removeClass("active").addClass("done back")
            $("a#link2").addClass("active")
            $("#step1").removeClass("active show")
            $("#step2").addClass("active show")
        });

        $("#continue_step2").click(function () {
            $("a#link2").removeClass("active").addClass("done back")
            $("a#link3").addClass("active")
            $("#step2").removeClass("active show")
            $("#step3").addClass("active show")
        });

        $("#link1").click(function () {
            if($(this).hasClass('back'))
            {
                $("a#link2,a#link3").removeClass("active done back")
                $("a#link1").addClass("active").removeClass("done back")
                $("#step2,#step3").removeClass("active show")
                $("#step1").addClass("active show")
            }
            
        });

        $("#link2").click(function () {
            if($(this).hasClass('back'))
            {
                $("a#link3").removeClass("active")
                $("a#link2").addClass("active").removeClass("done back")
                $("#step3").removeClass("active show")
                $("#step2").addClass("active show")
            }
        });
    </script>


</body>

</html>